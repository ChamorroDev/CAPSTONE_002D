{% extends 'base.html' %}
{% load static %}

{% block title %}Enviar Aviso - Junta de Vecinos{% endblock %}

{% block content %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<div class="container-fluid px-0">
    <div class="row g-0">
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 content">
            <div id="app-messages" class="mt-3"></div>

            <div class="d-flex justify-content-between align-items-center pt-3 pb-2 mb-4 border-bottom">
                <h1 class="h2 mb-0">
                    <i class="bi bi-envelope me-2 text-primary"></i>Envío de Avisos Masivos
                </h1>
                <div class="btn-group">
                    <button class="btn btn-primary btn-sm" onclick="location.reload()">
                        <i class="bi bi-arrow-clockwise me-1"></i>Actualizar
                    </button>
                </div>
            </div>

            <div class="card dashboard-card mb-4">
                <div class="card-header bg-white">
                    <h5 class="card-title mb-0">
                        <i class="bi bi-pencil-square me-2 text-info"></i>Crear Nuevo Aviso
                    </h5>
                </div>
                <div class="card-body">
                    <form id="avisoForm">
                        <div class="mb-3">
                            <label for="titulo" class="form-label">Título del Aviso</label>
                            <input type="text" class="form-control" id="titulo" name="titulo" required>
                        </div>

                        <div class="mb-3">
                            <label for="contenido" class="form-label">Contenido del Mensaje</label>
                            <textarea class="form-control" id="contenido" name="contenido" rows="5" required></textarea>
                        </div>

                        <div class="mb-3">
                            <label class="form-label d-block">Canales de Distribución</label>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="email_check" name="email" value="email" checked>
                                <label class="form-check-label" for="email_check">Email</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="checkbox" id="whatsapp_check" name="whatsapp" value="whatsapp">
                                <label class="form-check-label" for="whatsapp_check">WhatsApp</label>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary w-100">
                            <i class="bi bi-send me-2"></i>Enviar Aviso
                        </button>
                    </form>
                    <div id="feedbackMessage" class="mt-4 text-center"></div>
                </div>
            </div>
        </main>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/directivo/avisos/avisos.js' %}"></script>
{% endblock %}
